(this.webpackJsonpskills=this.webpackJsonpskills||[]).push([[0],{183:function(e,t,a){e.exports=a.p+"static/media/turtleboat.a6dbe772.svg"},184:function(e,t,a){e.exports=a.p+"static/media/account-icon.68452331.png"},193:function(e,t,a){e.exports=a.p+"static/media/pillar.5e79206b.svg"},194:function(e,t,a){e.exports=a.p+"static/media/note.ce96b1e4.svg"},195:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAASFBMVEXw8PB3xdTX5en69PL08vGTzNhyw9Ntw9Kd0NvT4+d5xtRvwtPa5+pxxNP08vCPy9jq7u5jwNG/3OOm0tz+9vSFyNa72+Ku1d7kOy6EAAADxElEQVR4nO2djXKiQBCE/YFdZUFOo3fv/6ZHBD1RU/ZeDUu7didUIGWG+bZnQCvrulhIkiRJkiRJkiRJ0qeqgESZ1Q4K9WuFqE6MaJhVsQqueaXlvl1PDhWflYeyKlZu+Vq+TE1ol9U7E4bsCVEPG0pCu6w+wUMRvj+h+nAeQnkYQ5i/hyIU4RQSoQinimUnEcYR6o4/D6GqVIS3sdSH8xDKwxjC/D0UoQinkG0fcl5p8vdQhCK8jcXZh4nv+FVD6SH6H1LfK4RuO3+fd/u9bjd0O2FfHq/zH7C5G1HaPRzWfTKhTyAMKfrr4XnDZhcUdVsCOm3SqjwBSbVf0AyRYg3ouNm/nhvxk0L0X3jn6yOSFwKIqdggfWGoZpt4Ak+x8UkBK5eeMCQlXM5AiNyf7CQPpyBM62H+hKrSKQjz91B9aCv14RSE+VepPLSV+nAKQnlorOw9nOM1vjy0lZ6XTkGoKhVhnPLvQ93xpyDMvw/loa3Uh1MQykNjzUCY9v+HHaFl9og2rqq64um+q5s8qqe7r1SdH3yJNfwcH1bd68PRBIbn8yMMV42oS+9eC+zVJ394v9v4Q228aoQbvr73mn+/uBz6U719rQPE10KhHtmHwz6l82a7asTxaZmMVScPlXheG2coyxlktISGaZkN1o6VkDEUaVq2HqoPI9JiHCzSgae9W5B6yJiWqpSaEJp+TluljAVPWloiFOE4FmPz0HrIOFikAy/COELG0iJ9Pz7nYJGWFm2VMoYiLS3aPmQMRZqW+jCOkHHgVaUiHMfS3WKOtFSlIhzHYiwt9eFshIyhaD3Uq6cYQsbSoq1SxlCkadESMrY06cCLMI6QsbTk4WyEjOVAOvCf0Iekz9oYB4u0tGirlDEUaWnR9iFjKNK01IdxhIwDryoVIX9an3ClIfWQcbBoCfP3UH0YQ5i/hyKch1DX0hhCLC3oTfT9ihD917AWxMOh43w/ftMCizjUh/slEJ7Jn6BQQFKmhEt3XUziusBEv3LDzaFzv4H1IFalH0K5m+3+EMnJlhBSs0U+osVuIRjLPoSELQxkuFxRcg9pCe08hJZVlYcREuHnEKoPYdF6KEJcIKHZ8n20hG98pcneQ/Xh+xPSeqhXT7BoCfWsDRath7qWwqL1UNdSWPkTqg9FGC1daS6E6kNY+XtIS6g+hEVLKA9xgYRmJ4QWe+0IfafQb+H753/L7THCfdM/fjhb8E9PHH7cvW576NMfFnVbWqmtkSH9Y3bC9gv6MJpibafkJ0TOJ0mSJEmSJEmSJEk56i+zk7G+y6HSlQAAAABJRU5ErkJggg=="},213:function(e,t,a){e.exports=a(285)},219:function(e,t,a){},220:function(e,t,a){},222:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},277:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},285:function(e,t,a){"use strict";a.r(t);var n,c=a(0),l=a.n(c),r=a(48),o=a.n(r),i=(a(218),a(219),a(220),a(307)),s=a(40),u=a(15),m=a(8),d=a(314),p=a(313),f=a(315),v=a(303),E=a(304),h=a(305),b=a(24),g=a(49),y=a.n(g),j=a(302);!function(e){e.login="/api/v1/client/login"}(n||(n={}));var O,k={post:function(e,t){var a,n,c;return y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)},l.next=4,y.a.awrap(fetch(e,a));case 4:if(!(n=l.sent).ok){l.next=10;break}return l.next=8,y.a.awrap(n.json());case 8:return c=l.sent,l.abrupt("return",c);case 10:l.next=14;break;case 12:l.prev=12,l.t0=l.catch(0);case 14:return l.abrupt("return",{success:!1,error_code:-1});case 15:case"end":return l.stop()}}),null,null,[[0,12]])}},C=function(){var e=Object(j.a)(["token","uid","email","name"]),t=Object(m.a)(e,3),a=t[0],c=t[1],l=t[2],r=function(){return{email:a.email,uid:a.uid,token:a.token}},o=function(){l("name"),l("token"),l("uid"),l("email")};return{redirectToDopeAuth:function(e){var t="";null!=e&&e.forEach((function(e){t+="".concat(e[0],"=").concat(e[1],"&")})),t.length>0&&(t="?".concat(t.substring(0,t.length-1))),window.location.href="https://dopeauth.com/login/"+encodeURIComponent((Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SITEURL||"")+"/login/auth")+t},getCredentials:r,login:function(e,t,a){var l;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,token:a,uid:e})},r.next=4,y.a.awrap(k.post(n.login,{email:t,token:a,uid:e}));case 4:if(!(l=r.sent).success){r.next=10;break}return c("token",l.token,{path:"/"}),c("uid",l.uid,{path:"/"}),c("email",l.email,{path:"/"}),r.abrupt("return",!0);case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(0);case 14:return r.abrupt("return",!1);case 15:case"end":return r.stop()}}),null,null,[[0,12]])},logout:o,callAPI:function(e,t){var a;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(k.post(e,Object(b.a)({},r(),{},t)));case 2:return(a=n.sent).success||999!==a.error_code||o(),n.abrupt("return",a);case 5:case"end":return n.stop()}}))}}};!function(e){e.name="name",e.email="email",e.uid="uid"}(O||(O={}));var x,N=function(){var e=Object(j.a)([O.name,O.email,O.uid]),t=Object(m.a)(e,1)[0];return{viewer:function(e){return t[e]},isLoggedIn:l.a.useMemo((function(){return null!=t[O.uid]}),[t])}},w=(a(222),a(183)),S=a.n(w),T=a(184),P=a.n(T),M=function(){var e=l.a.useState(!1),t=Object(m.a)(e,2),a=(t[0],t[1],N()),n=a.viewer,c=a.isLoggedIn,r=C(),o=r.logout,i=r.redirectToDopeAuth;c?l.a.createElement(d.a,{nav:!0,inNavbar:!0},l.a.createElement(p.a,{nav:!0,caret:!0},"Hello ",n(O.email)),l.a.createElement(f.a,{right:!0},l.a.createElement(v.a,{onClick:o},"Logout"))):l.a.createElement(E.a,null,l.a.createElement(h.a,{onClick:function(){return i()}},"Login with DopeAuth"));return l.a.createElement("div",{id:"AppHeader"},l.a.createElement("div",{className:"logo-container"},l.a.createElement("img",{src:S.a}),l.a.createElement(s.b,{to:"projects"},"Turtleboat")),l.a.createElement("div",{className:"account-container"},l.a.createElement("img",{src:P.a}),l.a.createElement("div",{className:"my-account"},"MY ACCOUNT")),l.a.createElement("div",{className:"account-container"},l.a.createElement(s.b,{to:"/curriculum",className:"my-account"},"ADMIN")))};!function(e){e[e.start=0]="start",e[e.loading=1]="loading",e[e.failed=2]="failed",e[e.succeed=3]="succeed"}(x||(x={}));var A=function(e){var t=N().isLoggedIn,a=l.a.useState(t?x.succeed:x.start),n=Object(m.a)(a,2),c=n[0],r=n[1],o=new URLSearchParams(e.location.search),i=C().login;return l.a.useEffect((function(){var e=o.get("uid"),a=o.get("token"),n=o.get("email");t&&window.location.replace("/"),null!=e&&null!=a&&null!=n&&c===x.start?(r(0),i(e,n,a).then((function(e){r(e?x.succeed:x.failed)}))):c===x.start&&r(x.failed)}),[t,c]),c===x.start||c===x.loading?l.a.createElement("div",null,"Attempting to login"):c===x.succeed?l.a.createElement("div",null,"Successful Login"):l.a.createElement("div",null,"Login Failed")},H=a(188),I=a.n(H),U=(a(245),a(246),a(79)),F=a(80),D=a(189),q=a.n(D),R=function(){function e(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(U.a)(this,e);var c={method:"GET",url:"/api/v1"+t,headers:{"Access-Control-Allow-Origin":"*"}};void 0!==n.method&&(c.method=n.method,"POST"===n.method&&(c.headers=Object(b.a)({},c.headers,{"content-type":"application/json"}))),void 0!==n.responseType&&(c.responseType=n.responseType),c.data=n.data,c.params=n.params,c.headers=Object(b.a)({},c.headers,{},n.headers),console.log(t,c),q()(c).then((function(e){if(console.log("Call to "+t+" SUCCEEDED"),"undefined"===typeof a.then)return console.log(e),a;console.log(e),a.then(e)})).catch((function(e){if(console.log(e),!e.response||401!==e.response.status&&422!==e.response.status||window.location.reload(),"undefined"===typeof a.catch)return console.log("Call to "+t+" FAILED"),console.log(e),a;console.log(e),a.catch(e)}))}return Object(F.a)(e,[{key:"catch",value:function(e){return this.catch=e,this}},{key:"then",value:function(e){return this.then=e,this}}]),e}(),V=function(){function e(){Object(U.a)(this,e)}return Object(F.a)(e,null,[{key:"newCourseTemplate",value:function(e){return new R("/courses/new_course",{method:"POST",data:e,headers:{"content-type":"application/json"}})}},{key:"getCourseTemplates",value:function(){return new R("/courses/get_courses")}},{key:"updateCourseMap",value:function(e,t){return new R("/courses/update_template_map",{method:"POST",data:{id:e,map:t},headers:{"content-type":"application/json"}})}}]),e}(),L=function(){function e(){Object(U.a)(this,e)}return Object(F.a)(e,null,[{key:"newModuleTemplate",value:function(e){return new R("/module_templates/new_template",{method:"POST",data:e,headers:{"content-type":"application/json"}})}},{key:"updateModuleTemplate",value:function(e){return new R("/module_templates/update_template",{method:"POST",data:e,headers:{"content-type":"application/json"}})}},{key:"getModuleTemplates",value:function(){return new R("/module_templates/get_templates")}},{key:"getModuleTemplate",value:function(e){return new R("/module_templates/get_template",{method:"POST",data:{id:e},headers:{"content-type":"application/json"}})}},{key:"removeModuleTemplate",value:function(e){return new R("/module_templates/remove_template",{method:"POST",data:{id:e},headers:{"content-type":"application/json"}})}}]),e}(),Q=a(45),K=a(46),J={position:"absolute",top:"20px",left:"30px",fontSize:"16px"},z={cursor:"pointer",textDecoration:"none",color:"black"},B=function(e){var t=e.text,a=e.link,n=e.onClick,c=[l.a.createElement(Q.a,{style:{marginRight:"10px"},icon:K.a}),t];return l.a.createElement("div",{style:J},n?l.a.createElement("a",{onClick:function(){n()},style:z},c):l.a.createElement(s.b,{style:z,to:a},c))};a(266);function _(e){return"".concat(e[0]," ").concat(e[1])}var G,W,Y=a(308),X=(a(267),function(e){var t=e.size,a=e.active,n=void 0!==a&&a,r=e.content,o=e.style,i=e.onClick,s=e.templ,u=(e.activeOnHover,Object(c.useState)(!1)),d=Object(m.a)(u,2),p=(d[0],d[1],Object(c.useRef)(null)),f=t/1.42,v=l.a.createElement("div",{className:"wonder-square",style:Object(b.a)({width:"".concat(f,"px"),height:"".concat(f,"px"),pointerEvents:"all",borderColor:n?"rgb(80, 171, 255)":"#fff",backgroundColor:s?"#fff":"lightgrey"},o),onClick:i&&function(){i(p)}});return l.a.createElement("div",{className:"wonder-square-container",style:{width:"".concat(t,"px"),height:"".concat(t,"px"),pointerEvents:"none"},ref:p},s?l.a.createElement(Y.a,{content:s.name,trigger:v}):v,l.a.createElement("div",{className:"ws-content",style:{pointerEvents:"none"},onClick:i&&function(){i(p)}},r||l.a.createElement("a",null,"?")))}),Z=function(e){var t=e.coords,a=e.squareSize,n=e.style,r=(e.groupLabel,e.squareMap),o=e.activeSqCoord,i=void 0===o?"":o,s=e.onSqClick,u=e.templates,d=Object(c.useState)({}),p=Object(m.a)(d,2),f=(p[0],p[1],[]),v={};r&&u&&t.forEach((function(e){var t=u.filter((function(t){return t.id===r[_(e)]}));t&&(v[_(e)]=t[0])})),console.log(v);var E=!0,h=!1,b=void 0;try{for(var g,y=function(){var e=g.value;f.push(l.a.createElement("div",{className:"ws-position-wrapper",style:{top:"".concat(38*e[0]+38*e[1],"px"),left:"".concat(38*e[0]-38*e[1],"px")}},l.a.createElement(X,{size:a,onClick:s&&function(t){s(_(e),t)},active:_(e)===i,templ:v[_(e)]})))},j=t[Symbol.iterator]();!(E=(g=j.next()).done);E=!0)y()}catch(O){h=!0,b=O}finally{try{E||null==j.return||j.return()}finally{if(h)throw b}}return l.a.createElement("div",{style:n,className:"wondersquare-group"},f)},$=a(193),ee=a.n($),te=a(194),ae=a.n(te),ne=(a(271),function(e){var t=e.size,a=e.text,n=e.style,c=l.a.createElement("div",{className:"content"},l.a.createElement("img",{src:ee.a}),l.a.createElement("h2",null,a),l.a.createElement("img",{src:ae.a}));return l.a.createElement("div",{className:"pillar",style:n},l.a.createElement(X,{style:{backgroundColor:"#50ABFF"},size:t,content:c}))}),ce=[{name:"Pillar"},{name:"Pillar"},{name:"Pillar"},{name:"Pillar"}],le=[{left:"50%",transform:"translateX(-50%)"},{right:"0%",top:"50%",transform:"translate(0%, -50%)"},{bottom:"0%",left:"50%",transform:"translate(-50%, 0%)"},{top:"50%",transform:"translateY(-50%)"}],re=[{left:"21%",top:"15%"},{right:"33%",top:"15%"},{right:"40%",bottom:"46%"},{left:"28%",bottom:"46%"}],oe=[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1]],ie=[[0,0],[0,1],[0,2],[1,0],[1,1],[1,2]],se=function(e){var t=e.courseMap,a=e.modules,n=Object(c.useState)(""),r=Object(m.a)(n,2),o=r[0],i=r[1],s=[];ce.forEach((function(e,t){s.push(l.a.createElement(ne,{style:Object(b.a)({position:"absolute"},le[t]),text:e.name,size:142}))}));var d=[];return re.forEach((function(e,n){d.push(l.a.createElement(Z,{squareSize:71,coords:n%2==0?oe:ie,style:Object(b.a)({position:"absolute"},e),key:n,squareMap:t[n],onSqClick:function(e,c){var l=function(e,a,n){return n.filter((function(n){return n.id===t[e][a]}))[0]||null}(n,e,a);console.log(l),l&&i("/module/".concat(l.id))},templates:a}))})),l.a.createElement(l.a.Fragment,null,""!==o?l.a.createElement(u.a,{push:!0,to:o}):l.a.createElement("div",{id:"Gameboard"},l.a.createElement("div",{className:"center-circle"}),l.a.createElement("div",{className:"bordering-circle"}),s,d))},ue=a(88),me=a(39);a(272);!function(e){e.Home="Home",e.FAQ="FAQ",e.Resources="Resources"}(W||(W={}));var de,pe=(G={},Object(me.a)(G,W.Home,{name:"Home"}),Object(me.a)(G,W.FAQ,{name:"FAQ"}),Object(me.a)(G,W.Resources,{name:"Resources"}),G),fe=function(e){Object(ue.a)(e);var t=Object(c.useState)(null),a=Object(m.a)(t,2),n=(a[0],a[1]);return l.a.createElement("div",{id:"LeftbarNav"},l.a.createElement("div",{className:"tab"}),l.a.createElement("div",{className:"options-container"},Object.keys(pe).map((function(e){return l.a.createElement("div",{className:"option",onClick:function(){return n(e)}},pe[e].name)}))))},ve=(a(273),function(){var e=Object(c.useState)(null),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),o=Object(m.a)(r,2),i=(o[0],o[1]),s=Object(c.useState)([]),u=Object(m.a)(s,2),d=u[0],p=u[1];return Object(c.useEffect)((function(){V.getCourseTemplates().then((function(e){e.data&&(n(e.data[0].template_map),i(e.data[0].id))})),L.getModuleTemplates().then((function(e){e.data&&p(e.data)}))}),[]),l.a.createElement("div",{id:"DashboardView"},l.a.createElement("div",{className:"LeftbarNav-container"},l.a.createElement(fe,null)),l.a.createElement("div",{className:"Gameboard-container"},l.a.createElement(se,{courseMap:a||{},modules:d}),l.a.createElement(B,{link:"/projects",text:"All projects"})))}),Ee=a(195),he=a.n(Ee),be=(a(274),[{name:"Test Project"},{name:"Test Projects 2"}]),ge=function(e){Object(ue.a)(e);var t=[];return be.forEach((function(e){t.push(l.a.createElement("div",{className:"project"},l.a.createElement("img",{src:he.a}),l.a.createElement(s.c,{to:"/dashboard",style:{textDecoration:"none"}},l.a.createElement("h2",null,e.name)),l.a.createElement("div",{className:"project-meta"},l.a.createElement("p",null,l.a.createElement("b",null," Created on"),": March 29, 2020"),l.a.createElement("div",{className:"icon-wrapper"},l.a.createElement(Q.a,{icon:K.b})),l.a.createElement("div",{className:"icon-wrapper"},l.a.createElement(Q.a,{icon:K.d})))))})),l.a.createElement("div",{id:"ProjectView"},l.a.createElement("div",{className:"my-projects"},"My Projects"),l.a.createElement("div",{className:"create-new-wrapper"},l.a.createElement(Q.a,{icon:K.c}),l.a.createElement("div",{className:"create-new"},"Create New Project")),l.a.createElement("div",{className:"project-container"},t))},ye=a(310),je=(a(275),a(309)),Oe=[{name:"Pillar"},{name:"Pillar"},{name:"Pillar"},{name:"Pillar"}],ke=[{left:"50%",transform:"translateX(-50%)"},{right:"0%",top:"50%",transform:"translate(0%, -50%)"},{bottom:"0%",left:"50%",transform:"translate(-50%, 0%)"},{top:"50%",transform:"translateY(-50%)"}],Ce=[{left:"21%",top:"15%"},{right:"33%",top:"15%"},{right:"40%",bottom:"46%"},{left:"28%",bottom:"46%"}],xe=[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1]],Ne=[[0,0],[0,1],[0,2],[1,0],[1,1],[1,2]],we=function(e){var t=e.templates,a=e.handleUpdate,n=e.courseMap,r=Object(c.useState)(void 0),o=Object(m.a)(r,2),i=o[0],s=o[1],u=Object(c.useState)(void 0),d=Object(m.a)(u,2),p=d[0],f=d[1],v=Object(c.useState)(void 0),E=Object(m.a)(v,2),h=E[0],g=E[1],y=Object(c.useState)(0),j=Object(m.a)(y,2),O=j[0],k=j[1],C=Object(c.useState)(0),x=Object(m.a)(C,2),N=x[0],w=x[1],S=Object(c.useRef)(null),T=t.map((function(e){var t=e.name,a=e.id;return{key:a,value:a,text:t}}));T.unshift({key:null,value:null,text:"No module"});Object(c.useEffect)((function(){if(h&&S&&S.current){var e=h.getBoundingClientRect(),t=S.current.getBoundingClientRect();k(e.top-t.top+35.5),w(e.left-t.left+35.5)}}),[h,S]);var P=[];Oe.forEach((function(e,t){P.push(l.a.createElement(ne,{style:Object(b.a)({position:"absolute"},ke[t]),text:e.name,size:142}))}));var M=[];return Ce.forEach((function(e,a){M.push(l.a.createElement(Z,{squareSize:71,coords:a%2==0?xe:Ne,style:Object(b.a)({position:"absolute"},e),key:a,groupLabel:"Group "+a,squareMap:n[a],onSqClick:function(e,t){!function(e,t,a){s(e),f(t),g(a.current)}(a,e,t)},activeSqCoord:a===i&&p?p:"",templates:t}))})),l.a.createElement("div",{id:"EditableGameboard",ref:S},void 0!==i&&void 0!=p&&l.a.createElement("div",{className:"dropdown-wrapper",style:{top:O,left:N}},l.a.createElement(je.a,{placeholder:"Select Country",fluid:!0,search:!0,selection:!0,open:!0,onBlur:function(){s(void 0),f(void 0),g(void 0)},onChange:function(e,t){void 0!==i&&p&&t&&a(i,p,t.value),s(void 0),f(void 0),g(void 0)},options:T})),l.a.createElement("div",{className:"center-circle"}),l.a.createElement("div",{className:"bordering-circle"}),P,M)},Se=function(e){var t=e.templates,a=e.courseMap,n=e.updateCourseMap;return l.a.createElement("div",{id:"CoursesView"},l.a.createElement(we,{handleUpdate:function(e,t,c){var l=(null===a||void 0===a?void 0:a[e])||{};l[t]=c,n(Object(b.a)({},a,Object(me.a)({},e,l)))},templates:t,courseMap:a}))},Te=a(69),Pe=a(101),Me=a(306),Ae=a(312),He=a(311),Ie=a(68),Ue=a.n(Ie);!function(e){e.Header="header",e.Description="description",e.TextInput="textinput",e.FileUpload="fileupload"}(de||(de={}));a(277);var Fe,De=a(196),qe=a.n(De),Re=[{key:"header",text:"Header",value:de.Header,icon:"header"},{key:"description",text:"Description",value:de.Description,icon:"paragraph"},{key:"textinput",text:"TextInput",value:de.TextInput,icon:"text cursor"},{key:"fileupload",text:"File Upload",value:de.FileUpload,icon:"file"}],Ve=function(e){var t=e.templ,a=e.setCurrTempl,n=e.setNewTempl,r=e.refresh,o=Object(c.useState)((null===t||void 0===t?void 0:t.body)||[]),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Object(c.useState)((null===t||void 0===t?void 0:t.name)||"Untitled Module"),p=Object(m.a)(d,2),f=p[0],v=p[1],E=Object(c.useState)(!0),h=Object(m.a)(E,2),b=h[0],g=h[1],y=function(e,t){var a=s[e],n=qe.a.cloneDeep(a);Object.entries(t).forEach((function(e){var t=Object(m.a)(e,2),a=t[0],c=t[1];void 0!==n[a]&&(n[a]=c)})),u([].concat(Object(Te.a)(s.slice(0,e)),[n],Object(Te.a)(s.slice(e+1))))},j=function(e){if(e.currentTarget&&e.target){b&&g(!1);var t=parseInt(e.currentTarget.dataset.index),a=e.currentTarget.dataset.key,n=e.currentTarget.innerText;y(t,Object(me.a)({},a,n))}},O=function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)},k=function(e){13===(e.keyCode||e.which)&&(e.returnValue=!1,e.preventDefault&&e.preventDefault())},C=function(e){u([].concat(Object(Te.a)(s.slice(0,e)),Object(Te.a)(s.slice(e+1))))},x=s.map((function(e,t){switch(e.type){case de.Header:return l.a.createElement("div",{key:t,className:"item-wrapper"},l.a.createElement(Pe.a,{className:"close-icon",onClick:function(){return C(t)},name:"close"}),l.a.createElement("div",{className:"header"},l.a.createElement("h2",null,l.a.createElement(Ue.a,{onPaste:O,onKeyPress:k,onChange:j,html:e.text,"data-index":t,"data-key":"text",style:{padding:"5px"}}))));case de.Description:return l.a.createElement("div",{key:t,className:"item-wrapper"},l.a.createElement(Pe.a,{className:"close-icon",onClick:function(){return C(t)},name:"close"}),l.a.createElement("div",{className:"description"},l.a.createElement("p",null,l.a.createElement(Ue.a,{onPaste:O,onChange:j,html:e.text,"data-index":t,"data-key":"text"}))));case de.TextInput:return l.a.createElement("div",{key:t,className:"item-wrapper"},l.a.createElement(Pe.a,{className:"close-icon",onClick:function(){return C(t)},name:"close"}),l.a.createElement("div",{className:"textinput"},l.a.createElement("h5",null,l.a.createElement(Ue.a,{onPaste:O,onKeyPress:k,onChange:j,html:e.title,"data-index":t,"data-key":"title"})),l.a.createElement("p",null,l.a.createElement(Ue.a,{onPaste:O,onChange:j,html:e.description,"data-index":t,"data-key":"description"})),l.a.createElement(Me.a,{disabled:!0,placeholder:"Student's response goes here..."})));case de.FileUpload:return l.a.createElement("div",{key:t,className:"item-wrapper"},l.a.createElement(Pe.a,{className:"close-icon",onClick:function(){return C(t)},name:"close"}),l.a.createElement("div",{className:"fileupload"},l.a.createElement("h5",null,l.a.createElement(Ue.a,{onPaste:O,onKeyPress:k,onChange:j,html:e.title,"data-index":t,"data-key":"title"})),l.a.createElement("p",null,l.a.createElement(Ue.a,{onPaste:O,onChange:j,html:e.description,"data-index":t,"data-key":"description"})),l.a.createElement(Ae.a,{className:"upload-button",as:"label",htmlFor:"fileupload-"+t,type:"button"},"Upload File"),l.a.createElement("input",{type:"file",id:"fileupload-"+t,hidden:!0})))}})),N=function(e,t){if(t.value){var a=function(e){switch(e){case de.Header:return{type:de.Header,text:"Header"};case de.Description:return{type:de.Description,text:"Insert description here..."};case de.TextInput:return{type:de.TextInput,title:"Text input Title",description:"Text input description...",charLimit:null,body:{text:""}};case de.TextInput:return{type:de.TextInput,title:"Text input title",description:"Text input description...",charLimit:null,body:{text:""}};case de.FileUpload:return{type:de.FileUpload,title:"File upload title",description:"File upload description...",fileTypes:[".txt",".docx",".doc",".pdf"],body:{fileUrl:""}}}}(t.value);a&&u([].concat(Object(Te.a)(s),[a]))}};return l.a.createElement("div",{id:"ModuleBuilderView"},l.a.createElement("div",{className:"module-container"},l.a.createElement(B,{link:"",onClick:function(){a(null),n(!1)},text:"All modules"}),!b&&l.a.createElement("p",{style:{color:"grey"}},"Changes not saved"),l.a.createElement("h1",{className:"module-title"},l.a.createElement(Ue.a,{onPaste:O,onKeyPress:k,onChange:function(e){e.target&&(v(e.target.value),b&&g(!1))},html:f})),l.a.createElement("div",{className:"body-container"},l.a.createElement(He.a,null,x)),l.a.createElement("div",{className:"button-container"},l.a.createElement("div",{className:"add-button"},l.a.createElement(je.a,{text:"Add item...",icon:"plus",floating:!0,labeled:!0,button:!0,className:"icon"},l.a.createElement(je.a.Menu,null,l.a.createElement(je.a.Header,{content:"Items"}),l.a.createElement(je.a.Menu,{scrolling:!0},Re.map((function(e){return l.a.createElement(je.a.Item,Object.assign({onClick:N},e))})))))),l.a.createElement("div",{className:"save-button"},l.a.createElement(Ae.a,{onClick:function(){var e={id:t?t.id:"",template:{name:f,body:s}};L.newModuleTemplate(e).then((function(){g(!0),r()}))},positive:!0},"Save Module")))))},Le=(a(279),function(e){var t=e.modTempls,a=e.setCurrTempl,n=e.setNewTempl,c=e.refresh;return l.a.createElement("div",{id:"ModulesView"},l.a.createElement("div",{className:"create-new-wrapper"},l.a.createElement(Q.a,{icon:K.c}),l.a.createElement("div",{className:"create-new",onClick:function(){n(!0)}},"Create New Template")),l.a.createElement("div",{className:"project-container"},t.map((function(e){var t=e.id,n=(e.body,e.name);return l.a.createElement("div",{className:"project"},l.a.createElement("h2",null,n||"Untitled Module"),l.a.createElement("div",{className:"project-meta"},l.a.createElement("p",null,l.a.createElement("b",null," Created on"),": March 29, 2020"),l.a.createElement("div",{className:"icon-wrapper",onClick:function(){a(e)}},l.a.createElement(Q.a,{icon:K.b})),l.a.createElement("div",{className:"icon-wrapper",onClick:function(){L.removeModuleTemplate(t).then((function(){c()}))}},l.a.createElement(Q.a,{icon:K.d}))))}))))});!function(e){e[e.templates=0]="templates",e[e.courses=1]="courses"}(Fe||(Fe={}));var Qe=function(e){Object(ue.a)(e);var t=Object(c.useState)(null),a=Object(m.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Object(c.useState)([]),p=Object(m.a)(d,2),f=p[0],v=p[1],E=Object(c.useState)(Fe.templates),h=Object(m.a)(E,2),b=h[0],g=h[1],y=Object(c.useState)(null),j=Object(m.a)(y,2),O=j[0],k=j[1],C=Object(c.useState)(null),x=Object(m.a)(C,2),N=x[0],w=x[1],S=function(){L.getModuleTemplates().then((function(e){e.data&&v(e.data)})),V.getCourseTemplates().then((function(e){e.data&&(k(e.data[0].template_map),w(e.data[0].id))}))};Object(c.useEffect)((function(){S()}),[]);return l.a.createElement("div",{id:"CurriculumView"},l.a.createElement(ye.a,{pointing:!0,secondary:!0,style:{display:"flex",justifyContent:"center"}},l.a.createElement(ye.a.Item,{name:"Module Templates",active:b===Fe.templates,onClick:function(){g(Fe.templates)}}),l.a.createElement(ye.a.Item,{name:"Courses",active:b===Fe.courses,onClick:function(){g(Fe.courses)}})),b===Fe.templates?n||s?l.a.createElement(Ve,{refresh:S,setCurrTempl:r,setNewTempl:u,templ:n}):l.a.createElement(Le,{refresh:S,modTempls:f,setCurrTempl:r,setNewTempl:u}):l.a.createElement(Se,{templates:f,courseMap:O||{},updateCourseMap:function(e){k(e),console.log(e),null!==N&&e&&V.updateCourseMap(N,e).catch((function(e){console.log("couldnt update coursemap! ",e)}))}}))},Ke=(a(280),function(e){var t,a=e.match,n=null===a||void 0===a?void 0:null===(t=a.params)||void 0===t?void 0:t.id,r=Object(c.useState)(null),o=Object(m.a)(r,2),i=o[0],s=o[1];Object(c.useEffect)((function(){void 0!==n&&L.getModuleTemplate(n).then((function(e){s(e.data),console.log(e)}))}),[]);var u=function(e){return e.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")};return l.a.createElement("div",{id:"StudentModuleView"},l.a.createElement("div",{className:"module-container"},l.a.createElement(B,{link:"/dashboard",text:"Dashboard"}),l.a.createElement("h1",{className:"module-title"},(null===i||void 0===i?void 0:i.name)||""),l.a.createElement("div",{className:"body-container"},l.a.createElement(He.a,null,i?i.body.map((function(e,t){switch(e.type){case de.Header:return l.a.createElement("div",{className:"header"},l.a.createElement("h2",{style:{padding:"5px"}},e.text));case de.Description:return l.a.createElement("div",{className:"description"},l.a.createElement("p",null,u(u(e.text))));case de.TextInput:return l.a.createElement("div",{className:"textinput"},l.a.createElement("h5",null,u(e.title)),l.a.createElement("p",null,u(e.description)),l.a.createElement(Me.a,{placeholder:"Put your response here..."}));case de.FileUpload:return l.a.createElement("div",{className:"fileupload"},l.a.createElement("h5",null,u(e.title)),l.a.createElement("p",null,u(e.description)),l.a.createElement(Ae.a,{className:"upload-button",as:"label",htmlFor:"fileupload-"+t,type:"button"},"Upload File"),l.a.createElement("input",{type:"file",id:"fileupload-"+t,hidden:!0}))}})):null))))}),Je=function(){return document.title=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_NAME||"",l.a.createElement(c.Fragment,null,l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(M,null),l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/login/auth",component:A}),l.a.createElement(u.b,{exact:!0,path:"/",component:ge}),l.a.createElement(u.b,{path:"/dashboard",component:ve}),l.a.createElement(u.b,{path:"/projects",component:ge}),l.a.createElement(u.b,{path:"/curriculum",component:Qe}),l.a.createElement(u.b,{path:"/module/:id",component:Ke}))))),l.a.createElement(I.a,{stack:{limit:3}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(281);a(282).config(),o.a.render(l.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[213,1,2]]]);
//# sourceMappingURL=main.1720cca0.chunk.js.map