{"version":3,"sources":["assets/images/turtleboat.svg","assets/images/account-icon.png","assets/images/pillar.svg","assets/images/note.svg","assets/images/avatar_example.png","components/ServerHelper.tsx","hooks/useViewer.tsx","hooks/useLogin.tsx","components/LoginCallback.tsx","AppHeader.tsx","api/Request.ts","api/CoursesApi.ts","api/ModuleTemplatesApi.ts","components/BackButton.tsx","utils.ts","components/LeftbarNav.tsx","components/WonderSquare.tsx","components/WonderSquareGroup.tsx","components/Pillar.tsx","components/Gameboard.tsx","interfaces/module.ts","views/DashboardView.tsx","views/ProjectView.tsx","components/EditableGameboard.tsx","views/CoursesView.tsx","views/CurriculumView.tsx","views/ModuleBuilderView.tsx","views/ModulesView.tsx","views/StudentModuleView.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ServerURL","Query","ServerHelper","post","url","data","a","async","config","method","headers","Accept","body","JSON","stringify","fetch","response","ok","json","success","error_code","useLogin","useCookies","cookies","setCookie","removeCookie","getCredentials","email","uid","token","logout","redirectToDopeAuth","otherdata","forEach","value","length","substring","window","location","href","encodeURIComponent","process","REACT_APP_SITEURL","login","path","callAPI","res","Status","useViewer","name","viewer","isLoggedIn","React","useMemo","AppHeader","useState","UncontrolledDropdown","nav","inNavbar","DropdownToggle","caret","DropdownMenu","right","DropdownItem","onClick","NavItem","NavLink","id","className","src","logo","to","accountIcon","LoginCallback","props","succeed","start","loginStatus","setLoginStatus","search","URLSearchParams","useEffect","get","replace","then","failed","loading","Request","endpoint","parameters","options","undefined","console","log","axios","catch","error","status","reload","callback","this","CoursesApi","map","ModuleTemplatesApi","style","position","top","left","fontSize","linkStyle","cursor","textDecoration","color","BackButton","text","link","marginRight","icon","faAngleLeft","serializeCoord","coord","LeftbarNavOptions","WonderSquare","size","active","content","templ","activeOnHover","sqRef","useRef","newSize","wonderSquare","width","height","pointerEvents","borderColor","backgroundColor","ref","Popup","trigger","WonderSquareGroup","coords","squareSize","squareMap","groupLabel","activeSqCoord","onSqClick","templates","group","coordToTemplate","c","filter","push","elem","Pillar","innerContent","PillarSvg","NoteSvg","PILLARS","PILLAR_STYLES","transform","bottom","GROUP_STYLES","leftToRight","rightToLeft","Gameboard","courseMap","modules","redirect","setRedirect","pillars","pil","i","groups","groupStyle","key","sqCoord","mod","groupId","getModForSq","ModuleItems","OPTIONS","Home","FAQ","Resources","LeftbarNav","setCurrentOption","Object","keys","k","DashboardView","setCourseMap","setCourseId","setModules","getCourseTemplates","resp","template_map","getModuleTemplates","PROJECTS","ProjectView","projects","p","avatarExample","faPen","faTrash","faPlus","EditableGameboard","handleUpdate","currGroup","setCurrGroup","currSqCoord","setCurrSqCoord","currSqRef","setCurrSqRef","dropdownTop","setDropdownTop","dropdownLeft","setDropdownLeft","gameboardRef","templDropdownOptions","unshift","current","sq","getBoundingClientRect","parent","handleSquareClick","Dropdown","placeholder","fluid","selection","open","onBlur","onChange","e","CoursesView","updateCourseMap","templId","newGroup","CurriculumTabs","addOptions","Header","Description","TextInput","FileUpload","ModuleBuilderView","setCurrTempl","setNewTempl","refresh","moduleBody","setModuleBody","title","setTitle","saved","setSaved","updateItem","ind","updates","item","itemCopy","lodash","cloneDeep","entries","v","slice","handleContentEdit","currentTarget","target","index","parseInt","dataset","innerText","pasteAsPlainText","event","preventDefault","clipboardData","getData","document","execCommand","disableNewlines","keyCode","which","returnValue","onDelete","itemComponents","type","Icon","onPaste","onKeyPress","html","data-index","data-key","padding","description","TextArea","disabled","Button","as","htmlFor","hidden","handleDropdown","newMod","charLimit","fileTypes","fileUrl","getBlankModuleItem","Form","floating","labeled","button","Menu","scrolling","option","Item","template","newModuleTemplate","positive","ModulesView","modTempls","removeModuleTemplate","CurriculumView","currTempl","newTempl","setModTempls","activeTab","setActiveTab","courseId","refreshData","pointing","secondary","display","justifyContent","courses","err","StudentModuleView","match","params","setModule","getModuleTemplate","trimSpaces","string","App","REACT_APP_NAME","CookiesProvider","exact","component","stack","limit","Boolean","hostname","require","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1720cca0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/turtleboat.a6dbe772.svg\";","module.exports = __webpack_public_path__ + \"static/media/account-icon.68452331.png\";","module.exports = __webpack_public_path__ + \"static/media/pillar.5e79206b.svg\";","module.exports = __webpack_public_path__ + \"static/media/note.ce96b1e4.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAASFBMVEXw8PB3xdTX5en69PL08vGTzNhyw9Ntw9Kd0NvT4+d5xtRvwtPa5+pxxNP08vCPy9jq7u5jwNG/3OOm0tz+9vSFyNa72+Ku1d7kOy6EAAADxElEQVR4nO2djXKiQBCE/YFdZUFOo3fv/6ZHBD1RU/ZeDUu7didUIGWG+bZnQCvrulhIkiRJkiRJkiRJ0qeqgESZ1Q4K9WuFqE6MaJhVsQqueaXlvl1PDhWflYeyKlZu+Vq+TE1ol9U7E4bsCVEPG0pCu6w+wUMRvj+h+nAeQnkYQ5i/hyIU4RQSoQinimUnEcYR6o4/D6GqVIS3sdSH8xDKwxjC/D0UoQinkG0fcl5p8vdQhCK8jcXZh4nv+FVD6SH6H1LfK4RuO3+fd/u9bjd0O2FfHq/zH7C5G1HaPRzWfTKhTyAMKfrr4XnDZhcUdVsCOm3SqjwBSbVf0AyRYg3ouNm/nhvxk0L0X3jn6yOSFwKIqdggfWGoZpt4Ak+x8UkBK5eeMCQlXM5AiNyf7CQPpyBM62H+hKrSKQjz91B9aCv14RSE+VepPLSV+nAKQnlorOw9nOM1vjy0lZ6XTkGoKhVhnPLvQ93xpyDMvw/loa3Uh1MQykNjzUCY9v+HHaFl9og2rqq64um+q5s8qqe7r1SdH3yJNfwcH1bd68PRBIbn8yMMV42oS+9eC+zVJ394v9v4Q228aoQbvr73mn+/uBz6U719rQPE10KhHtmHwz6l82a7asTxaZmMVScPlXheG2coyxlktISGaZkN1o6VkDEUaVq2HqoPI9JiHCzSgae9W5B6yJiWqpSaEJp+TluljAVPWloiFOE4FmPz0HrIOFikAy/COELG0iJ9Pz7nYJGWFm2VMoYiLS3aPmQMRZqW+jCOkHHgVaUiHMfS3WKOtFSlIhzHYiwt9eFshIyhaD3Uq6cYQsbSoq1SxlCkadESMrY06cCLMI6QsbTk4WyEjOVAOvCf0Iekz9oYB4u0tGirlDEUaWnR9iFjKNK01IdxhIwDryoVIX9an3ClIfWQcbBoCfP3UH0YQ5i/hyKch1DX0hhCLC3oTfT9ihD917AWxMOh43w/ftMCizjUh/slEJ7Jn6BQQFKmhEt3XUziusBEv3LDzaFzv4H1IFalH0K5m+3+EMnJlhBSs0U+osVuIRjLPoSELQxkuFxRcg9pCe08hJZVlYcREuHnEKoPYdF6KEJcIKHZ8n20hG98pcneQ/Xh+xPSeqhXT7BoCfWsDRath7qWwqL1UNdSWPkTqg9FGC1daS6E6kNY+XtIS6g+hEVLKA9xgYRmJ4QWe+0IfafQb+H753/L7THCfdM/fjhb8E9PHH7cvW576NMfFnVbWqmtkSH9Y3bC9gv6MJpibafkJ0TOJ0mSJEmSJEmSJEk56i+zk7G+y6HSlQAAAABJRU5ErkJggg==\"","export enum ServerURL {\n  login = \"/api/v1/client/login\"\n}\n\nconst ServerHelper = {\n  post: async (\n    url: ServerURL,\n    data: any\n  ): Promise<{ success: boolean; [key: string]: any }> => {\n    try {\n      const config = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      };\n      const response = await fetch(url, config);\n      if (response.ok) {\n        const json = await response.json();\n        return json;\n      }\n    } catch (error) {}\n    return { success: false, error_code: -1 };\n  }\n};\n\nexport default ServerHelper;\n","import React from \"react\";\n\nimport { useCookies } from \"react-cookie\";\n\nexport enum Query {\n  name = \"name\",\n  email = \"email\",\n  uid = \"uid\"\n}\n\nconst useViewer = () => {\n  const [cookies] = useCookies([Query.name, Query.email, Query.uid]);\n  const viewer = (value: Query) => {\n    return cookies[value];\n  };\n  const isLoggedIn = React.useMemo(() => cookies[Query.uid] != null, [cookies]);\n  return { viewer, isLoggedIn };\n};\n\nexport default useViewer;\n","import { useCookies } from \"react-cookie\";\nimport ServerHelper, { ServerURL } from \"./../components/ServerHelper\";\n\nconst useLogin = () => {\n  const [cookies, setCookie, removeCookie] = useCookies([\n    \"token\",\n    \"uid\",\n    \"email\",\n    \"name\"\n  ]);\n\n  const redirectToDopeAuth = (data?: [string, string][]) => {\n    let otherdata = \"\";\n    if (data != null) {\n      data.forEach(value => {\n        otherdata += `${value[0]}=${value[1]}&`;\n      });\n    }\n    if (otherdata.length > 0) {\n      otherdata = `?${otherdata.substring(0, otherdata.length - 1)}`;\n    }\n    window.location.href =\n      \"https://dopeauth.com/login/\" +\n      encodeURIComponent(\n        (process.env.REACT_APP_SITEURL || \"\") + \"/login/auth\"\n      ) +\n      otherdata;\n  };\n\n  const login = async (\n    uid: string,\n    email: string,\n    token: string\n  ): Promise<Boolean> => {\n    try {\n      const config = {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: email,\n          token: token,\n          uid: uid\n        })\n      };\n      // // This is a client side check, however server side checks are also necessary!\n      // // Here we don't do a callback verify but on server side we want it\n      // const response = await fetch(\n      //   \"https://dopeauth.com/api/v1/site/verify\",\n      //   config\n      // );\n      // if (response.ok) {\n      //   const json = await response.json();\n      //   if (json[\"success\"]) {\n      //     setCookie(\"token\", token, { path: \"/\" });\n      //     setCookie(\"uid\", uid, { path: \"/\" });\n      //     setCookie(\"email\", email, { path: \"/\" });\n      //     setCookie(\"name\", email, { path: \"/\" });\n      //     return true;\n      //   }\n      // }\n      // You can also chose to do a server side check~ and have clients\n      const json = await ServerHelper.post(ServerURL.login, {\n        email: email,\n        token: token,\n        uid: uid\n      });\n      if (json[\"success\"]) {\n        setCookie(\"token\", json[\"token\"], { path: \"/\" });\n        setCookie(\"uid\", json[\"uid\"], { path: \"/\" });\n        setCookie(\"email\", json[\"email\"], { path: \"/\" });\n        return true;\n      }\n    } catch (error) {}\n    return false;\n  };\n  const getCredentials = () => {\n    return {\n      email: cookies[\"email\"],\n      uid: cookies[\"uid\"],\n      token: cookies[\"token\"]\n    };\n  };\n  const logout = () => {\n    removeCookie(\"name\");\n    removeCookie(\"token\");\n    removeCookie(\"uid\");\n    removeCookie(\"email\");\n  };\n\n  const callAPI = async (url: ServerURL, data: any) => {\n    const res = await ServerHelper.post(url, { ...getCredentials(), ...data });\n    if (!res.success && res.error_code === 999) {\n      // Bad token\n      logout();\n    }\n    return res;\n  };\n\n  return { redirectToDopeAuth, getCredentials, login, logout, callAPI };\n};\n\nexport default useLogin;\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport useLogin from \"../hooks/useLogin\";\nimport useViewer from \"../hooks/useViewer\";\n\nenum Status {\n  start,\n  loading,\n  failed,\n  succeed\n}\n\nconst LoginCallback = (props: RouteComponentProps) => {\n  const { isLoggedIn } = useViewer();\n  const [loginStatus, setLoginStatus] = React.useState<Status>(\n    isLoggedIn ? Status.succeed : Status.start\n  );\n  const search = new URLSearchParams(props.location.search);\n  const { login } = useLogin();\n  React.useEffect(() => {\n    const id = search.get(\"uid\");\n    const token = search.get(\"token\");\n    const email = search.get(\"email\");\n    if (isLoggedIn) {\n      window.location.replace(\"/\");\n    }\n    if (\n      id != null &&\n      token != null &&\n      email != null &&\n      loginStatus === Status.start\n    ) {\n      setLoginStatus(0);\n      login(id, email, token).then((success: Boolean) => {\n        setLoginStatus(success ? Status.succeed : Status.failed);\n      });\n    } else if (loginStatus === Status.start) {\n      setLoginStatus(Status.failed);\n    }\n    // eslint-disable-next-line\n  }, [isLoggedIn, loginStatus]);\n\n  if (loginStatus === Status.start || loginStatus === Status.loading) {\n    return <div>Attempting to login</div>;\n  } else if (loginStatus === Status.succeed) {\n    return <div>Successful Login</div>;\n  } else {\n    return <div>Login Failed</div>;\n  }\n};\n\nexport default LoginCallback;\n","import React from \"react\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n} from \"reactstrap\";\nimport useLogin from \"./hooks/useLogin\";\nimport useViewer, { Query } from \"./hooks/useViewer\";\nimport \"./AppHeader.scss\";\nimport logo from \"./assets/images/turtleboat.svg\";\nimport accountIcon from \"./assets/images/account-icon.png\";\nimport { Link } from \"react-router-dom\";\n\nconst AppHeader: React.FC = () => {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const { viewer, isLoggedIn } = useViewer();\n  const { logout, redirectToDopeAuth } = useLogin();\n  const viewerButton = isLoggedIn ? (\n    <UncontrolledDropdown nav inNavbar>\n      <DropdownToggle nav caret>\n        Hello {viewer(Query.email)}\n      </DropdownToggle>\n      <DropdownMenu right>\n        <DropdownItem onClick={logout}>Logout</DropdownItem>\n      </DropdownMenu>\n    </UncontrolledDropdown>\n  ) : (\n    <NavItem>\n      <NavLink onClick={() => redirectToDopeAuth()}>\n        Login with DopeAuth\n      </NavLink>\n    </NavItem>\n  );\n  return (\n    <div id=\"AppHeader\">\n      <div className=\"logo-container\">\n        <img src={logo} />\n        <Link to=\"projects\">Turtleboat</Link>\n      </div>\n\n      <div className=\"account-container\">\n        <img src={accountIcon} />\n        <div className=\"my-account\">MY ACCOUNT</div>\n      </div>\n      <div className=\"account-container\">\n        <Link to=\"/curriculum\" className=\"my-account\">\n          ADMIN\n        </Link>\n      </div>\n      {/* <Navbar color=\"light\" light expand=\"md\">\n        <NavbarBrand href=\"/\">{process.env.REACT_APP_NAME}</NavbarBrand>\n        <NavbarToggler onClick={() => setIsOpen((open) => !open)} />\n        <Collapse isOpen={isOpen} navbar>\n          <Nav className=\"ml-auto\" navbar>\n            <NavItem>\n              <NavLink href=\"mailto:help@hackmit.org\">Contact Us</NavLink>\n            </NavItem>\n            {viewerButton}\n          </Nav>\n        </Collapse>\n      </Navbar> */}\n      {/* <br /> */}\n    </div>\n  );\n};\n\nexport default AppHeader;\n","import axios from \"axios\";\n\nconst BASE_URL = \"/api/v1\"; //process.env.REACT_APP_BACKEND_URL;\n\nclass Request {\n  constructor(endpoint: string, parameters: any = {}) {\n    // Default request options for axios\n    let options: any = {\n      method: \"GET\",\n      url: BASE_URL + endpoint,\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n    };\n\n    // if (Storage.isLoggedIn()) {\n    //   options[\"headers\"] = {\n    //     ...options[\"headers\"],\n    //     Authorization: \"Bearer \" + Storage.getToken(),\n    //   };\n    // }\n\n    // Only pass method if undefined, since it is assumed to be GET\n    if (parameters[\"method\"] !== undefined) {\n      options[\"method\"] = parameters[\"method\"];\n      if (parameters[\"method\"] === \"POST\") {\n        options[\"headers\"] = {\n          ...options[\"headers\"],\n          \"content-type\": \"application/json\",\n        };\n      }\n    }\n\n    if (parameters[\"responseType\"] !== undefined) {\n      options[\"responseType\"] = parameters[\"responseType\"];\n    }\n\n    // Add request data\n    options[\"data\"] = parameters[\"data\"];\n\n    // Pass request body and URL parameters\n    options[\"params\"] = parameters[\"params\"];\n\n    options[\"headers\"] = { ...options[\"headers\"], ...parameters[\"headers\"] };\n\n    console.log(endpoint, options);\n    // Perform the request\n    axios(options)\n      .then((response) => {\n        console.log(\"Call to \" + endpoint + \" SUCCEEDED\");\n        if (typeof this.then !== \"undefined\") {\n          console.log(response);\n          this.then(response);\n        } else {\n          console.log(response);\n          return this;\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        if (\n          error.response &&\n          (error.response.status === 401 || error.response.status === 422)\n        ) {\n          // Storage.logOut();\n          window.location.reload();\n        }\n        if (typeof this.catch !== \"undefined\") {\n          console.log(error);\n          this.catch(error);\n        } else {\n          console.log(\"Call to \" + endpoint + \" FAILED\");\n          console.log(error);\n          return this;\n        }\n      });\n  }\n\n  catch(callback) {\n    this.catch = callback;\n    return this;\n  }\n\n  then(callback) {\n    this.then = callback;\n    return this;\n  }\n}\n\nexport default Request;\n","import { GameboardTemplateMap } from \"../interfaces/module\";\nimport Request from \"./Request\";\n\nclass CoursesApi {\n  static newCourseTemplate(data) {\n    return new Request(\"/courses/new_course\", {\n      method: \"POST\",\n      data: data,\n      headers: { \"content-type\": \"application/json\" },\n    });\n  }\n\n  static getCourseTemplates() {\n    return new Request(\"/courses/get_courses\");\n  }\n\n  static updateCourseMap(id: number, map: GameboardTemplateMap) {\n    return new Request(\"/courses/update_template_map\", {\n      method: \"POST\",\n      data: { id, map },\n      headers: { \"content-type\": \"application/json\" },\n    });\n  }\n}\n\nexport default CoursesApi;\n","import Request from \"./Request\";\n\nclass ModuleTemplatesApi {\n  static newModuleTemplate(data) {\n    return new Request(\"/module_templates/new_template\", {\n      method: \"POST\",\n      data: data,\n      headers: { \"content-type\": \"application/json\" },\n    });\n  }\n\n  static updateModuleTemplate(data) {\n    return new Request(\"/module_templates/update_template\", {\n      method: \"POST\",\n      data: data,\n      headers: { \"content-type\": \"application/json\" },\n    });\n  }\n\n  static getModuleTemplates() {\n    return new Request(\"/module_templates/get_templates\");\n  }\n\n  static getModuleTemplate(id) {\n    return new Request(\"/module_templates/get_template\", {\n      method: \"POST\",\n      data: { id },\n      headers: { \"content-type\": \"application/json\" },\n    });\n  }\n\n  static removeModuleTemplate(id) {\n    return new Request(\"/module_templates/remove_template\", {\n      method: \"POST\",\n      data: { id },\n      headers: { \"content-type\": \"application/json\" },\n    });\n  }\n}\n\nexport default ModuleTemplatesApi;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { faAngleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\ninterface BackButtonProps {\n  text: string;\n  link: string;\n  onClick?: any;\n}\n\nconst style: React.CSSProperties = {\n  position: \"absolute\",\n  top: \"20px\",\n  left: \"30px\",\n  fontSize: \"16px\",\n};\n\nconst linkStyle: React.CSSProperties = {\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n  color: \"black\",\n};\n\nconst BackButton: React.FC<BackButtonProps> = ({ text, link, onClick }) => {\n  const body = [\n    <FontAwesomeIcon style={{ marginRight: \"10px\" }} icon={faAngleLeft} />,\n    text,\n  ];\n\n  return (\n    <div style={style}>\n      {onClick ? (\n        <a\n          onClick={() => {\n            onClick();\n          }}\n          style={linkStyle}\n        >\n          {body}\n        </a>\n      ) : (\n        <Link style={linkStyle} to={link}>\n          {body}\n        </Link>\n      )}\n    </div>\n  );\n};\n\nexport default BackButton;\n","export function serializeCoord(coord: number[]) {\n  return `${coord[0]} ${coord[1]}`;\n}\n\nexport function deserializeCoord(coordStr: string) {\n  return coordStr.split(\" \").map((i) => parseInt(i));\n}\n","import React, { useState } from \"react\";\nimport \"./LeftbarNav.scss\";\n\ninterface LeftbarNavProps {}\n\nexport enum LeftbarNavOptions {\n  Home = \"Home\",\n  FAQ = \"FAQ\",\n  Resources = \"Resources\",\n}\n\nconst OPTIONS = {\n  [LeftbarNavOptions.Home]: { name: \"Home\" },\n  [LeftbarNavOptions.FAQ]: { name: \"FAQ\" },\n  [LeftbarNavOptions.Resources]: { name: \"Resources\" },\n};\n\nconst LeftbarNav: React.FC<LeftbarNavProps> = ({}) => {\n  const [currentOption, setCurrentOption] = useState<LeftbarNavOptions | null>(\n    null\n  );\n  return (\n    <div id=\"LeftbarNav\">\n      <div className=\"tab\"></div>\n      <div className=\"options-container\">\n        {Object.keys(OPTIONS).map((k) => (\n          <div\n            className=\"option\"\n            onClick={() => setCurrentOption(k as LeftbarNavOptions)}\n          >\n            {OPTIONS[k as LeftbarNavOptions].name}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default LeftbarNav;\n","import { template } from \"lodash\";\nimport React, { useRef, useState } from \"react\";\nimport { Popup } from \"semantic-ui-react\";\nimport \"./WonderSquare.scss\";\n\nexport const WONDERSQ_SIZE_RATIO = 1.42;\n\ninterface WonderSquareProps {\n  size: number;\n  active?: boolean;\n  content?: React.ReactNode;\n  style?: React.CSSProperties;\n  onClick?: (ref) => void;\n  templ?: any;\n  activeOnHover?: boolean;\n}\n\nconst WonderSquare: React.FC<WonderSquareProps> = ({\n  size,\n  active = false,\n  content,\n  style,\n  onClick,\n  templ,\n  activeOnHover = false,\n}) => {\n  const [hover, setHover] = useState(false);\n  const sqRef = useRef(null);\n  const newSize = size / WONDERSQ_SIZE_RATIO;\n  const margin = 9 + size * (1 - 1 / WONDERSQ_SIZE_RATIO);\n\n  const wonderSquare = (\n    <div\n      className=\"wonder-square\"\n      style={{\n        width: `${newSize}px`,\n        height: `${newSize}px`,\n        pointerEvents: \"all\",\n        borderColor: active ? \"rgb(80, 171, 255)\" : \"#fff\",\n        backgroundColor: templ ? \"#fff\" : \"lightgrey\",\n        ...style,\n      }}\n      onClick={\n        onClick &&\n        (() => {\n          onClick(sqRef);\n        })\n      }\n    ></div>\n  );\n  return (\n    <div\n      className=\"wonder-square-container\"\n      style={{\n        width: `${size}px`,\n        height: `${size}px`,\n        pointerEvents: \"none\",\n      }}\n      ref={sqRef}\n    >\n      {templ ? (\n        <Popup content={templ.name} trigger={wonderSquare} />\n      ) : (\n        wonderSquare\n      )}\n      <div\n        className=\"ws-content\"\n        style={{ pointerEvents: \"none\" }}\n        onClick={\n          onClick &&\n          (() => {\n            onClick(sqRef);\n          })\n        }\n      >\n        {content ? content : <a>?</a>}\n      </div>\n    </div>\n  );\n};\n\nexport default WonderSquare;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { serializeCoord } from \"../utils\";\nimport WonderSquare from \"./WonderSquare\";\n\ninterface WonderSquareGroupProps {\n  coords: number[][];\n  squareSize: number;\n  style?: React.CSSProperties;\n  squareMap?: any;\n  groupLabel?: string;\n  activeSqCoord?: string;\n  onSqClick?: (coord, elem) => void;\n  templates?: any;\n}\n\nconst WonderSquareGroup: React.FC<WonderSquareGroupProps> = ({\n  coords,\n  squareSize,\n  style,\n  groupLabel,\n  squareMap,\n  activeSqCoord = \"\",\n  onSqClick,\n  templates,\n}) => {\n  const [squareRefs, setSquareRefs] = useState({});\n\n  const step = 38;\n  const group: any = [];\n\n  const coordToTemplate = {};\n  if (squareMap && templates) {\n    coords.forEach((c) => {\n      const templ = templates.filter(\n        (templ) => templ.id === squareMap[serializeCoord(c)]\n      );\n      if (templ) {\n        coordToTemplate[serializeCoord(c)] = templ[0];\n      }\n    });\n  }\n\n  console.log(coordToTemplate);\n  for (const coord of coords) {\n    group.push(\n      <div\n        className=\"ws-position-wrapper\"\n        style={{\n          top: `${coord[0] * step + coord[1] * step}px`,\n          left: `${coord[0] * step - coord[1] * step}px`,\n        }}\n      >\n        <WonderSquare\n          size={squareSize}\n          onClick={\n            onSqClick &&\n            ((elem: HTMLDivElement) => {\n              onSqClick(serializeCoord(coord), elem);\n            })\n          }\n          active={serializeCoord(coord) === activeSqCoord}\n          templ={coordToTemplate[serializeCoord(coord)]}\n        />\n      </div>\n    );\n  }\n  return (\n    <div style={style} className=\"wondersquare-group\">\n      {group}\n    </div>\n  );\n};\n\nexport default WonderSquareGroup;\n","import React, { useState } from \"react\";\nimport WonderSquare from \"./WonderSquare\";\nimport PillarSvg from \"../assets/images/pillar.svg\";\nimport NoteSvg from \"../assets/images/note.svg\";\nimport \"./Pillar.scss\";\n\ninterface PillarProps {\n  size: number;\n  text: string;\n  style?: React.CSSProperties;\n}\n\nconst Pillar: React.FC<PillarProps> = ({ size, text, style }) => {\n  const innerContent = (\n    <div className=\"content\">\n      <img src={PillarSvg} />\n      <h2>{text}</h2>\n      <img src={NoteSvg} />\n    </div>\n  );\n  return (\n    <div className=\"pillar\" style={style}>\n      <WonderSquare\n        style={{ backgroundColor: \"#50ABFF\" }}\n        size={size}\n        content={innerContent}\n      />\n    </div>\n  );\n};\n\nexport default Pillar;\n","import React, { useState } from \"react\";\nimport WonderSquare from \"./WonderSquare\";\nimport \"./Gameboard.scss\";\nimport WonderSquareGroup from \"./WonderSquareGroup\";\nimport Pillar from \"./Pillar\";\nimport { GameboardTemplateMap } from \"../interfaces/module\";\nimport { Redirect } from \"react-router-dom\";\n\ninterface GameboardProps {\n  courseMap: GameboardTemplateMap;\n  modules: any;\n}\n\n// number of wonder squares layers\nexport const BoardDepth = 3;\n\nconst PILLARS = [\n  { name: \"Pillar\" },\n  { name: \"Pillar\" },\n  { name: \"Pillar\" },\n  { name: \"Pillar\" },\n];\n\nconst PILLAR_STYLES = [\n  { left: \"50%\", transform: \"translateX(-50%)\" },\n  {\n    right: \"0%\",\n    top: \"50%\",\n    transform: \"translate(0%, -50%)\",\n  },\n  { bottom: \"0%\", left: \"50%\", transform: \"translate(-50%, 0%)\" },\n  { top: \"50%\", transform: \"translateY(-50%)\" },\n];\n\nconst GROUP_STYLES = [\n  { left: \"21%\", top: \"15%\" },\n  { right: \"33%\", top: \"15%\" },\n  { right: \"40%\", bottom: \"46%\" },\n  { left: \"28%\", bottom: \"46%\" },\n];\n\nconst leftToRight = [\n  [0, 0],\n  [1, 0],\n  [2, 0],\n  [0, 1],\n  [1, 1],\n  [2, 1],\n];\nconst rightToLeft = [\n  [0, 0],\n  [0, 1],\n  [0, 2],\n  [1, 0],\n  [1, 1],\n  [1, 2],\n];\n\nconst Gameboard: React.FC<GameboardProps> = ({ courseMap, modules }) => {\n  const [redirect, setRedirect] = useState<string>(\"\");\n\n  const size = 71;\n\n  const pillars: any[] = [];\n  PILLARS.forEach((pil, i) => {\n    pillars.push(\n      <Pillar\n        style={{\n          position: \"absolute\",\n          ...PILLAR_STYLES[i],\n        }}\n        text={pil.name}\n        size={size * 2}\n      />\n    );\n  });\n\n  const getModForSq = (groupId, coord, modules) => {\n    const mod = modules.filter((mod) => mod.id === courseMap[groupId][coord]);\n    return mod[0] || null;\n  };\n\n  const groups: any[] = [];\n  GROUP_STYLES.forEach((groupStyle, i) => {\n    groups.push(\n      <WonderSquareGroup\n        squareSize={size}\n        coords={i % 2 == 0 ? leftToRight : rightToLeft}\n        style={{\n          position: \"absolute\",\n          ...groupStyle,\n        }}\n        key={i}\n        squareMap={courseMap[i]}\n        onSqClick={(sqCoord, elem) => {\n          const mod = getModForSq(i, sqCoord, modules);\n          console.log(mod);\n          if (mod) {\n            setRedirect(`/module/${mod.id}`);\n          }\n        }}\n        templates={modules}\n      />\n    );\n  });\n\n  return (\n    <>\n      {redirect !== \"\" ? (\n        <Redirect push to={redirect} />\n      ) : (\n        <div id=\"Gameboard\">\n          <div className=\"center-circle\"></div>\n          <div className=\"bordering-circle\"></div>\n\n          {pillars}\n          {groups}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Gameboard;\n","export enum ModuleItems {\n  Header = \"header\",\n  Description = \"description\",\n  TextInput = \"textinput\",\n  FileUpload = \"fileupload\",\n}\n\ninterface HeaderBody {\n  type: ModuleItems.Header;\n  text: string;\n}\n\ninterface DescriptionBody {\n  type: ModuleItems.Description;\n  text: string;\n}\n\ninterface TextInputBody {\n  type: ModuleItems.TextInput;\n  title: string;\n  description: string;\n  charLimit: number | null;\n  body: {\n    text: string;\n  };\n}\n\ninterface FileUploadBody {\n  type: ModuleItems.FileUpload;\n  title: string;\n  description: string;\n  fileTypes: string[];\n  body: {\n    fileUrl: string;\n  };\n}\n\nexport type ModuleBody = (\n  | HeaderBody\n  | DescriptionBody\n  | TextInputBody\n  | FileUploadBody\n)[];\n\nexport interface Module {\n  body: ModuleBody;\n  id: number;\n  name: string;\n}\n\nexport function getBlankModuleItem(type: ModuleItems) {\n  switch (type) {\n    case ModuleItems.Header:\n      return {\n        type: ModuleItems.Header,\n        text: \"Header\",\n      } as HeaderBody;\n    case ModuleItems.Description:\n      return {\n        type: ModuleItems.Description,\n        text: \"Insert description here...\",\n      } as DescriptionBody;\n    case ModuleItems.TextInput:\n      return {\n        type: ModuleItems.TextInput,\n        title: \"Text input Title\",\n        description: \"Text input description...\",\n        charLimit: null,\n        body: {\n          text: \"\",\n        },\n      } as TextInputBody;\n    case ModuleItems.TextInput:\n      return {\n        type: ModuleItems.TextInput,\n        title: \"Text input title\",\n        description: \"Text input description...\",\n        charLimit: null,\n        body: {\n          text: \"\",\n        },\n      } as TextInputBody;\n    case ModuleItems.FileUpload:\n      return {\n        type: ModuleItems.FileUpload,\n        title: \"File upload title\",\n        description: \"File upload description...\",\n        fileTypes: [\".txt\", \".docx\", \".doc\", \".pdf\"],\n        body: {\n          fileUrl: \"\",\n        },\n      } as FileUploadBody;\n  }\n}\n\nexport interface GameboardTemplateMap {\n  [groupId: number]: {\n    [sqCoord: string]: number;\n  };\n}\n","import React, { useEffect, useState } from \"react\";\nimport CoursesApi from \"../api/CoursesApi\";\nimport ModuleTemplatesApi from \"../api/ModuleTemplatesApi\";\nimport BackButton from \"../components/BackButton\";\nimport Gameboard from \"../components/Gameboard\";\nimport LeftbarNav from \"../components/LeftbarNav\";\nimport WonderSquare from \"../components/WonderSquare\";\nimport { GameboardTemplateMap } from \"../interfaces/module\";\nimport \"./DashboardView.scss\";\n\nconst DashboardView: React.FC = () => {\n  const [courseMap, setCourseMap] = useState<GameboardTemplateMap | null>(null);\n  const [courseId, setCourseId] = useState<number | null>(null);\n  const [modules, setModules] = useState([]);\n\n  useEffect(() => {\n    CoursesApi.getCourseTemplates().then((resp) => {\n      if (resp.data) {\n        setCourseMap(resp.data[0].template_map);\n        setCourseId(resp.data[0].id);\n      }\n    });\n\n    ModuleTemplatesApi.getModuleTemplates().then((resp) => {\n      if (resp.data) {\n        setModules(resp.data);\n      }\n    });\n  }, []);\n\n  return (\n    <div id=\"DashboardView\">\n      <div className=\"LeftbarNav-container\">\n        <LeftbarNav />\n      </div>\n      <div className=\"Gameboard-container\">\n        <Gameboard courseMap={courseMap || {}} modules={modules} />\n        <BackButton link=\"/projects\" text=\"All projects\" />\n      </div>\n    </div>\n  );\n};\n\nexport default DashboardView;\n","import { faPen, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport avatarExample from \"../assets/images/avatar_example.png\";\nimport \"./ProjectView.scss\";\nimport { NavLink } from \"react-router-dom\";\n\ninterface ProjectViewProps {}\n\nconst PROJECTS = [{ name: \"Test Project\" }, { name: \"Test Projects 2\" }];\n\nconst ProjectView: React.FC<ProjectViewProps> = ({}) => {\n  const projects: any[] = [];\n  PROJECTS.forEach((p) => {\n    projects.push(\n      <div className=\"project\">\n        <img src={avatarExample} />\n        <NavLink to=\"/dashboard\" style={{ textDecoration: \"none\" }}>\n          <h2>{p.name}</h2>\n        </NavLink>\n        <div className=\"project-meta\">\n          <p>\n            <b> Created on</b>: March 29, 2020\n          </p>\n          <div className=\"icon-wrapper\">\n            <FontAwesomeIcon icon={faPen} />\n          </div>\n          <div className=\"icon-wrapper\">\n            <FontAwesomeIcon icon={faTrash} />\n          </div>\n        </div>\n      </div>\n    );\n  });\n  return (\n    <div id=\"ProjectView\">\n      <div className=\"my-projects\">My Projects</div>\n      <div className=\"create-new-wrapper\">\n        <FontAwesomeIcon icon={faPlus} />\n        <div className=\"create-new\">Create New Project</div>\n      </div>\n      <div className=\"project-container\">{projects}</div>\n    </div>\n  );\n};\n\nexport default ProjectView;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport WonderSquare from \"./WonderSquare\";\nimport \"./EditableGameboard.scss\";\nimport WonderSquareGroup from \"./WonderSquareGroup\";\nimport Pillar from \"./Pillar\";\nimport { Dropdown, Icon } from \"semantic-ui-react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { GameboardTemplateMap } from \"../interfaces/module\";\n\ninterface EditableGameboardProps {\n  templates: any;\n  handleUpdate: (group, coord, templId) => void;\n  courseMap: GameboardTemplateMap;\n}\n\n// number of wonder squares layers\nexport const BoardDepth = 3;\n\nconst PILLARS = [\n  { name: \"Pillar\" },\n  { name: \"Pillar\" },\n  { name: \"Pillar\" },\n  { name: \"Pillar\" },\n];\n\nconst PILLAR_STYLES = [\n  { left: \"50%\", transform: \"translateX(-50%)\" },\n  {\n    right: \"0%\",\n    top: \"50%\",\n    transform: \"translate(0%, -50%)\",\n  },\n  { bottom: \"0%\", left: \"50%\", transform: \"translate(-50%, 0%)\" },\n  { top: \"50%\", transform: \"translateY(-50%)\" },\n];\n\nconst GROUP_STYLES = [\n  { left: \"21%\", top: \"15%\" },\n  { right: \"33%\", top: \"15%\" },\n  { right: \"40%\", bottom: \"46%\" },\n  { left: \"28%\", bottom: \"46%\" },\n];\n\nconst leftToRight = [\n  [0, 0],\n  [1, 0],\n  [2, 0],\n  [0, 1],\n  [1, 1],\n  [2, 1],\n];\nconst rightToLeft = [\n  [0, 0],\n  [0, 1],\n  [0, 2],\n  [1, 0],\n  [1, 1],\n  [1, 2],\n];\n\nconst EditableGameboard: React.FC<EditableGameboardProps> = ({\n  templates,\n  handleUpdate,\n  courseMap,\n}) => {\n  const [currGroup, setCurrGroup] = useState<number | undefined>(undefined);\n  const [currSqCoord, setCurrSqCoord] = useState<string | undefined>(undefined);\n  const [currSqRef, setCurrSqRef] = useState<HTMLDivElement | undefined>(\n    undefined\n  );\n  const [dropdownTop, setDropdownTop] = useState(0);\n  const [dropdownLeft, setDropdownLeft] = useState(0);\n  const gameboardRef = useRef<HTMLDivElement | null>(null);\n\n  const templDropdownOptions = templates.map(({ name, id }) => ({\n    key: id,\n    value: id,\n    text: name,\n  }));\n  templDropdownOptions.unshift({ key: null, value: null, text: \"No module\" });\n\n  const size = 71;\n  useEffect(() => {\n    if (currSqRef && gameboardRef && gameboardRef.current) {\n      const sq = currSqRef.getBoundingClientRect();\n      const parent = gameboardRef.current.getBoundingClientRect();\n      setDropdownTop(sq.top - parent.top + size / 2);\n      setDropdownLeft(sq.left - parent.left + size / 2);\n    }\n  }, [currSqRef, gameboardRef]);\n\n  const pillars: any[] = [];\n  PILLARS.forEach((pil, i) => {\n    pillars.push(\n      <Pillar\n        style={{\n          position: \"absolute\",\n          ...PILLAR_STYLES[i],\n        }}\n        text={pil.name}\n        size={size * 2}\n      />\n    );\n  });\n\n  const handleSquareClick = (groupId: number, sqCoord: string, elem) => {\n    setCurrGroup(groupId);\n    setCurrSqCoord(sqCoord);\n    setCurrSqRef(elem.current);\n  };\n\n  const handleDropdownSelect = (e, data) => {\n    if (currGroup !== undefined && currSqCoord && data) {\n      handleUpdate(currGroup, currSqCoord, data.value);\n    }\n    setCurrGroup(undefined);\n    setCurrSqCoord(undefined);\n    setCurrSqRef(undefined);\n  };\n\n  const groups: any[] = [];\n  GROUP_STYLES.forEach((groupStyle, i) => {\n    groups.push(\n      <WonderSquareGroup\n        squareSize={size}\n        coords={i % 2 == 0 ? leftToRight : rightToLeft}\n        style={{\n          position: \"absolute\",\n          ...groupStyle,\n        }}\n        key={i}\n        groupLabel={\"Group \" + i}\n        squareMap={courseMap[i]}\n        onSqClick={(sqCoord: string, elem: HTMLDivElement) => {\n          handleSquareClick(i, sqCoord, elem);\n        }}\n        activeSqCoord={i === currGroup && currSqCoord ? currSqCoord : \"\"}\n        templates={templates}\n      />\n    );\n  });\n\n  return (\n    <div id=\"EditableGameboard\" ref={gameboardRef}>\n      {currGroup !== undefined && currSqCoord != undefined && (\n        <div\n          className=\"dropdown-wrapper\"\n          style={{ top: dropdownTop, left: dropdownLeft }}\n        >\n          {/* <Icon name=\"close\" /> */}\n          <Dropdown\n            placeholder=\"Select Country\"\n            fluid\n            search\n            selection\n            open\n            onBlur={() => {\n              setCurrGroup(undefined);\n              setCurrSqCoord(undefined);\n              setCurrSqRef(undefined);\n            }}\n            onChange={handleDropdownSelect}\n            options={templDropdownOptions}\n          />\n        </div>\n      )}\n\n      <div className=\"center-circle\"></div>\n      <div className=\"bordering-circle\"></div>\n\n      {pillars}\n      {groups}\n    </div>\n  );\n};\n\nexport default EditableGameboard;\n","import React, { useState } from \"react\";\nimport EditableGameboard from \"../components/EditableGameboard\";\nimport { GameboardTemplateMap } from \"../interfaces/module\";\nimport { serializeCoord } from \"../utils\";\ninterface CoursesViewProps {\n  templates: any;\n  courseMap: GameboardTemplateMap;\n  updateCourseMap: (courseMap) => void;\n}\n\nconst CoursesView: React.FC<CoursesViewProps> = ({\n  templates,\n  courseMap,\n  updateCourseMap,\n}) => {\n  const handleCourseMapUpdate = (\n    group: number,\n    coord: string,\n    templId: number\n  ) => {\n    const newGroup = courseMap?.[group] || {};\n    newGroup[coord] = templId;\n    updateCourseMap({ ...courseMap, [group]: newGroup });\n  };\n\n  return (\n    <div id=\"CoursesView\">\n      <EditableGameboard\n        handleUpdate={handleCourseMapUpdate}\n        templates={templates}\n        courseMap={courseMap}\n      />\n    </div>\n  );\n};\n\nexport default CoursesView;\n","import { faPen, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useState } from \"react\";\nimport { Menu } from \"semantic-ui-react\";\nimport CoursesApi from \"../api/CoursesApi\";\nimport ModuleTemplatesApi from \"../api/ModuleTemplatesApi\";\nimport { GameboardTemplateMap } from \"../interfaces/module\";\nimport CoursesView from \"./CoursesView\";\nimport ModuleBuilderView from \"./ModuleBuilderView\";\nimport ModulesView from \"./ModulesView\";\n\nenum CurriculumTabs {\n  templates,\n  courses,\n}\n// import \"./CurriculumView.scss\";\n\ninterface CurriculumViewProps {}\n\nconst CurriculumView: React.FC<CurriculumViewProps> = ({}) => {\n  const [currTempl, setCurrTempl] = useState<any | null>(null);\n  const [newTempl, setNewTempl] = useState(false);\n  const [modTempls, setModTempls] = useState([]);\n  const [activeTab, setActiveTab] = useState<CurriculumTabs>(\n    CurriculumTabs.templates\n  );\n  const [courseMap, setCourseMap] = useState<GameboardTemplateMap | null>(null);\n  const [courseId, setCourseId] = useState<number | null>(null);\n\n  const refreshData = () => {\n    ModuleTemplatesApi.getModuleTemplates().then((resp) => {\n      if (resp.data) {\n        setModTempls(resp.data);\n      }\n    });\n\n    CoursesApi.getCourseTemplates().then((resp) => {\n      if (resp.data) {\n        setCourseMap(resp.data[0].template_map);\n        setCourseId(resp.data[0].id);\n      }\n    });\n  };\n\n  useEffect(() => {\n    refreshData();\n  }, []);\n\n  const updateCourseMap = (courseMap) => {\n    setCourseMap(courseMap);\n    console.log(courseMap);\n    if (courseId !== null && courseMap) {\n      CoursesApi.updateCourseMap(courseId, courseMap).catch((err) => {\n        console.log(\"couldnt update coursemap! \", err);\n      });\n    }\n  };\n\n  return (\n    <div id=\"CurriculumView\">\n      <Menu\n        pointing\n        secondary\n        style={{ display: \"flex\", justifyContent: \"center\" }}\n      >\n        <Menu.Item\n          name=\"Module Templates\"\n          active={activeTab === CurriculumTabs.templates}\n          onClick={() => {\n            setActiveTab(CurriculumTabs.templates);\n          }}\n        />\n        <Menu.Item\n          name=\"Courses\"\n          active={activeTab === CurriculumTabs.courses}\n          onClick={() => {\n            setActiveTab(CurriculumTabs.courses);\n          }}\n        />\n      </Menu>\n      {activeTab === CurriculumTabs.templates ? (\n        currTempl || newTempl ? (\n          <ModuleBuilderView\n            refresh={refreshData}\n            setCurrTempl={setCurrTempl}\n            setNewTempl={setNewTempl}\n            templ={currTempl}\n          />\n        ) : (\n          <ModulesView\n            refresh={refreshData}\n            modTempls={modTempls}\n            setCurrTempl={setCurrTempl}\n            setNewTempl={setNewTempl}\n          />\n        )\n      ) : (\n        <CoursesView\n          templates={modTempls}\n          courseMap={courseMap || {}}\n          updateCourseMap={updateCourseMap}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CurriculumView;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Checkbox,\n  Form,\n  Button,\n  Dropdown,\n  TextArea,\n  Label,\n  Icon,\n} from \"semantic-ui-react\";\nimport ContentEditable from \"react-contenteditable\";\nimport {\n  getBlankModuleItem,\n  Module,\n  ModuleBody,\n  ModuleItems,\n} from \"../interfaces/module\";\nimport \"./ModuleBuilderView.scss\";\nimport lodash from \"lodash\";\nimport ModuleTemplatesApi from \"../api/ModuleTemplatesApi\";\nimport BackButton from \"../components/BackButton\";\n\ninterface ModuleBuilderViewProps {\n  templ: any;\n  setCurrTempl: (templ) => void;\n  setNewTempl: (templ) => void;\n  refresh: () => void;\n}\n\nconst addOptions = [\n  {\n    key: \"header\",\n    text: \"Header\",\n    value: ModuleItems.Header,\n    icon: \"header\",\n  },\n  {\n    key: \"description\",\n    text: \"Description\",\n    value: ModuleItems.Description,\n    icon: \"paragraph\",\n  },\n  {\n    key: \"textinput\",\n    text: \"TextInput\",\n    value: ModuleItems.TextInput,\n    icon: \"text cursor\",\n  },\n  {\n    key: \"fileupload\",\n    text: \"File Upload\",\n    value: ModuleItems.FileUpload,\n    icon: \"file\",\n  },\n];\n\nconst ModuleBuilderView: React.FC<ModuleBuilderViewProps> = ({\n  templ,\n  setCurrTempl,\n  setNewTempl,\n  refresh,\n}) => {\n  const [moduleBody, setModuleBody] = useState<ModuleBody>(templ?.body || []);\n  const [title, setTitle] = useState<string>(templ?.name || \"Untitled Module\");\n  const [saved, setSaved] = useState(true);\n\n  const updateItem = (ind: number, updates: any) => {\n    const item = moduleBody[ind];\n    const itemCopy = lodash.cloneDeep(item);\n    Object.entries(updates).forEach(([k, v]) => {\n      //@ts-ignore\n      if (itemCopy[k] !== undefined) {\n        //@ts-ignore\n        itemCopy[k] = v;\n      }\n    });\n    setModuleBody([\n      ...moduleBody.slice(0, ind),\n      itemCopy,\n      ...moduleBody.slice(ind + 1),\n    ]);\n  };\n\n  const removeItem = (ind: number) => {\n    setModuleBody([...moduleBody.slice(0, ind), ...moduleBody.slice(ind + 1)]);\n  };\n\n  const trimSpaces = (string: string) => {\n    return string\n      .replace(/&nbsp;/g, \" \")\n      .replace(/&amp;/g, \"&\")\n      .replace(/&gt;/g, \">\")\n      .replace(/&lt;/g, \"<\");\n  };\n\n  const handleContentEdit = (e: any) => {\n    if (e.currentTarget && e.target) {\n      if (saved) {\n        setSaved(false);\n      }\n      const index = parseInt(e.currentTarget.dataset.index);\n      const key = e.currentTarget.dataset.key;\n      const value = e.currentTarget.innerText;\n      updateItem(index, { [key]: value });\n    }\n  };\n\n  const handleFileUpload = (e: any) => {\n    if (e.currentTarget && e.target) {\n      if (saved) {\n        setSaved(false);\n      }\n      const index = parseInt(e.currentTarget.dataset.index);\n      const key = e.currentTarget.dataset.key;\n      const value = e.currentTarget.innerText;\n      updateItem(index, { [key]: value });\n    }\n  };\n\n  const handleTitleEdit = (e: any) => {\n    if (e.target) {\n      setTitle(e.target.value);\n      if (saved) {\n        setSaved(false);\n      }\n    }\n  };\n\n  const pasteAsPlainText = (event: any) => {\n    event.preventDefault();\n\n    const text = event.clipboardData.getData(\"text/plain\");\n    document.execCommand(\"insertHTML\", false, text);\n  };\n\n  const disableNewlines = (event: any) => {\n    const keyCode = event.keyCode || event.which;\n\n    if (keyCode === 13) {\n      event.returnValue = false;\n      if (event.preventDefault) event.preventDefault();\n    }\n  };\n\n  const onDelete = (ind) => {\n    setModuleBody([...moduleBody.slice(0, ind), ...moduleBody.slice(ind + 1)]);\n  };\n\n  const itemComponents = moduleBody.map((item, i) => {\n    switch (item.type) {\n      case ModuleItems.Header:\n        return (\n          <div key={i} className=\"item-wrapper\">\n            <Icon\n              className=\"close-icon\"\n              onClick={() => onDelete(i)}\n              name=\"close\"\n            />\n            <div className=\"header\">\n              <h2>\n                <ContentEditable\n                  onPaste={pasteAsPlainText}\n                  onKeyPress={disableNewlines}\n                  onChange={handleContentEdit}\n                  html={item.text}\n                  data-index={i}\n                  data-key={\"text\"}\n                  style={{ padding: \"5px\" }}\n                />\n              </h2>\n            </div>\n          </div>\n        );\n      case ModuleItems.Description:\n        return (\n          <div key={i} className=\"item-wrapper\">\n            <Icon\n              className=\"close-icon\"\n              onClick={() => onDelete(i)}\n              name=\"close\"\n            />\n            <div className=\"description\">\n              <p>\n                <ContentEditable\n                  onPaste={pasteAsPlainText}\n                  onChange={handleContentEdit}\n                  html={item.text}\n                  data-index={i}\n                  data-key={\"text\"}\n                />\n              </p>\n            </div>\n          </div>\n        );\n      case ModuleItems.TextInput:\n        return (\n          <div key={i} className=\"item-wrapper\">\n            <Icon\n              className=\"close-icon\"\n              onClick={() => onDelete(i)}\n              name=\"close\"\n            />\n            <div className=\"textinput\">\n              <h5>\n                <ContentEditable\n                  onPaste={pasteAsPlainText}\n                  onKeyPress={disableNewlines}\n                  onChange={handleContentEdit}\n                  html={item.title}\n                  data-index={i}\n                  data-key={\"title\"}\n                />\n              </h5>\n              <p>\n                <ContentEditable\n                  onPaste={pasteAsPlainText}\n                  onChange={handleContentEdit}\n                  html={item.description}\n                  data-index={i}\n                  data-key={\"description\"}\n                />\n              </p>\n              <TextArea\n                disabled\n                placeholder=\"Student's response goes here...\"\n              />\n            </div>\n          </div>\n        );\n      case ModuleItems.FileUpload:\n        return (\n          <div key={i} className=\"item-wrapper\">\n            <Icon\n              className=\"close-icon\"\n              onClick={() => onDelete(i)}\n              name=\"close\"\n            />\n            <div className=\"fileupload\">\n              <h5>\n                <ContentEditable\n                  onPaste={pasteAsPlainText}\n                  onKeyPress={disableNewlines}\n                  onChange={handleContentEdit}\n                  html={item.title}\n                  data-index={i}\n                  data-key={\"title\"}\n                />\n              </h5>\n              <p>\n                <ContentEditable\n                  onPaste={pasteAsPlainText}\n                  onChange={handleContentEdit}\n                  html={item.description}\n                  data-index={i}\n                  data-key={\"description\"}\n                />\n              </p>\n              {/* <Form> */}\n              {/* <Form.Field> */}\n              <Button\n                className=\"upload-button\"\n                as=\"label\"\n                htmlFor={\"fileupload-\" + i}\n                type=\"button\"\n              >\n                Upload File\n              </Button>\n              <input type=\"file\" id={\"fileupload-\" + i} hidden />\n              {/* </Form.Field> */}\n              {/* <Button type=\"submit\">Upload</Button>\n              </Form> */}\n            </div>\n          </div>\n        );\n    }\n  });\n\n  const handleDropdown = (event: any, data: any) => {\n    if (data.value) {\n      const newMod = getBlankModuleItem(data.value);\n      if (newMod) {\n        setModuleBody([...moduleBody, newMod]);\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    const data = {\n      id: templ ? templ.id : \"\",\n      template: {\n        name: title,\n        body: moduleBody,\n      },\n    };\n    ModuleTemplatesApi.newModuleTemplate(data).then(() => {\n      setSaved(true);\n      refresh();\n    });\n  };\n\n  return (\n    <div id=\"ModuleBuilderView\">\n      <div className=\"module-container\">\n        <BackButton\n          link=\"\"\n          onClick={() => {\n            setCurrTempl(null);\n            setNewTempl(false);\n          }}\n          text=\"All modules\"\n        />\n        {!saved && <p style={{ color: \"grey\" }}>Changes not saved</p>}\n        <h1 className=\"module-title\">\n          <ContentEditable\n            onPaste={pasteAsPlainText}\n            onKeyPress={disableNewlines}\n            onChange={handleTitleEdit}\n            html={title}\n          />\n        </h1>\n        <div className=\"body-container\">\n          <Form>{itemComponents}</Form>\n        </div>\n        <div className=\"button-container\">\n          <div className=\"add-button\">\n            <Dropdown\n              text=\"Add item...\"\n              icon=\"plus\"\n              floating\n              labeled\n              button\n              className=\"icon\"\n            >\n              <Dropdown.Menu>\n                <Dropdown.Header content=\"Items\" />\n                <Dropdown.Menu scrolling>\n                  {addOptions.map((option) => (\n                    <Dropdown.Item onClick={handleDropdown} {...option} />\n                  ))}\n                </Dropdown.Menu>\n              </Dropdown.Menu>\n            </Dropdown>\n          </div>\n          <div className=\"save-button\">\n            <Button onClick={handleSubmit} positive>\n              Save Module\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ModuleBuilderView;\n","import { faPen, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useEffect, useState } from \"react\";\nimport ModuleTemplatesApi from \"../api/ModuleTemplatesApi\";\nimport \"./ModulesView.scss\";\n\ninterface ModulesViewProps {\n  modTempls: any;\n  setCurrTempl: (templ) => void;\n  setNewTempl: (templ) => void;\n  refresh: () => void;\n}\n\nconst ModulesView: React.FC<ModulesViewProps> = ({\n  modTempls,\n  setCurrTempl,\n  setNewTempl,\n  refresh,\n}) => {\n  return (\n    <div id=\"ModulesView\">\n      <div className=\"create-new-wrapper\">\n        <FontAwesomeIcon icon={faPlus} />\n        <div\n          className=\"create-new\"\n          onClick={() => {\n            setNewTempl(true);\n          }}\n        >\n          Create New Template\n        </div>\n      </div>\n      <div className=\"project-container\">\n        {modTempls.map((templ) => {\n          const { id, body, name } = templ;\n          return (\n            <div className=\"project\">\n              {/* <img src={avatarExample} /> */}\n              {/* <NavLink to=\"/dashboard\" style={{ textDecoration: \"none\" }}> */}\n              <h2>{name || \"Untitled Module\"}</h2>\n              {/* </NavLink> */}\n              <div className=\"project-meta\">\n                <p>\n                  <b> Created on</b>: March 29, 2020\n                </p>\n                <div\n                  className=\"icon-wrapper\"\n                  onClick={() => {\n                    setCurrTempl(templ);\n                  }}\n                >\n                  <FontAwesomeIcon icon={faPen} />\n                </div>\n                <div\n                  className=\"icon-wrapper\"\n                  onClick={() => {\n                    ModuleTemplatesApi.removeModuleTemplate(id).then(() => {\n                      refresh();\n                    });\n                  }}\n                >\n                  <FontAwesomeIcon icon={faTrash} />\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default ModulesView;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { TextArea, Button, Form } from \"semantic-ui-react\";\nimport ModuleTemplatesApi from \"../api/ModuleTemplatesApi\";\nimport BackButton from \"../components/BackButton\";\nimport { Module, ModuleItems } from \"../interfaces/module\";\nimport \"./StudentModuleView.scss\";\ninterface StudentModuleViewProps {\n  match: any;\n}\n\nconst StudentModuleView: React.FC<StudentModuleViewProps> = ({ match }) => {\n  const id = match?.params?.id;\n  const [module, setModule] = useState<Module | null>(null);\n  useEffect(() => {\n    if (id !== undefined) {\n      ModuleTemplatesApi.getModuleTemplate(id).then((resp) => {\n        setModule(resp.data);\n        console.log(resp);\n      });\n    }\n  }, []);\n\n  const trimSpaces = (string: string) => {\n    return string\n      .replace(/&nbsp;/g, \" \")\n      .replace(/&amp;/g, \"&\")\n      .replace(/&gt;/g, \">\")\n      .replace(/&lt;/g, \"<\");\n  };\n\n  const transformModule = (mod) => {\n    const components = mod.body.map((item, i) => {\n      switch (item.type) {\n        case ModuleItems.Header:\n          return (\n            <div className=\"header\">\n              <h2 style={{ padding: \"5px\" }}>{item.text}</h2>\n            </div>\n          );\n        case ModuleItems.Description:\n          return (\n            <div className=\"description\">\n              <p>{trimSpaces(trimSpaces(item.text))}</p>\n            </div>\n          );\n        case ModuleItems.TextInput:\n          return (\n            <div className=\"textinput\">\n              <h5>{trimSpaces(item.title)}</h5>\n              <p>{trimSpaces(item.description)}</p>\n              <TextArea placeholder=\"Put your response here...\" />\n            </div>\n          );\n        case ModuleItems.FileUpload:\n          return (\n            <div className=\"fileupload\">\n              <h5>{trimSpaces(item.title)}</h5>\n              <p>{trimSpaces(item.description)}</p>\n\n              <Button\n                className=\"upload-button\"\n                as=\"label\"\n                htmlFor={\"fileupload-\" + i}\n                type=\"button\"\n              >\n                Upload File\n              </Button>\n              <input type=\"file\" id={\"fileupload-\" + i} hidden />\n            </div>\n          );\n      }\n    });\n    return components;\n  };\n\n  return (\n    <div id=\"StudentModuleView\">\n      <div className=\"module-container\">\n        <BackButton link=\"/dashboard\" text=\"Dashboard\" />\n        <h1 className=\"module-title\">{module?.name || \"\"}</h1>\n        <div className=\"body-container\">\n          <Form>{module ? transformModule(module) : null}</Form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StudentModuleView;\n","import React, { Fragment } from \"react\";\nimport \"./App.scss\";\nimport { CookiesProvider } from \"react-cookie\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport AppHeader from \"./AppHeader\";\nimport LandingPage from \"./components/LandingPage\";\nimport LoginCallback from \"./components/LoginCallback\";\n\nimport Alert from \"react-s-alert\";\n\nimport \"react-s-alert/dist/s-alert-default.css\";\nimport \"react-s-alert/dist/s-alert-css-effects/slide.css\";\nimport DashboardView from \"./views/DashboardView\";\nimport ProjectView from \"./views/ProjectView\";\nimport ModuleBuilderView from \"./views/ModuleBuilderView\";\nimport CurriculumView from \"./views/CurriculumView\";\nimport StudentModuleView from \"./views/StudentModuleView\";\n\nconst App: React.FC = () => {\n  document.title = process.env.REACT_APP_NAME || \"\";\n  return (\n    <Fragment>\n      <Router>\n        <CookiesProvider>\n          <div className=\"App\">\n            <AppHeader />\n            <Switch>\n              <Route exact path=\"/login/auth\" component={LoginCallback} />\n              <Route exact path=\"/\" component={ProjectView} />\n              <Route path=\"/dashboard\" component={DashboardView} />\n              <Route path=\"/projects\" component={ProjectView} />\n              <Route path=\"/curriculum\" component={CurriculumView} />\n              <Route path=\"/module/:id\" component={StudentModuleView} />\n            </Switch>\n          </div>\n        </CookiesProvider>\n      </Router>\n      <Alert stack={{ limit: 3 }} />\n    </Fragment>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nrequire(\"dotenv\").config();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}